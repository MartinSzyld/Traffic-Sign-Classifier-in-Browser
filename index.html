<html>
<head>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest/dist/tf.min.js"></script>
</head>

<body>
<div id="big-div">
    <h1>Test a Traffic Sign Classifier in your browser!</h1>
    
    <div style="display: inline-block;padding-left: 10px;">
        <span style="padding-right:20px">
            <span style="padding:10px 10px 0px 10px;vertical-align: middle;" class="with_border">
                <div>
                    <canvas id="canvas"  width="280" height="280"></canvas>
                </div>
                <div>
                    <span  style="padding: 0px 40px;">
                        <div style="position: relative;">
                            <label  for="color-input" >
                                <div class="marker" id="color-label">
                                    <div class="cap" ></div>
                                    <div class="sleeve"></div> 
                                </div>
                            </label>
                            <input type="checkbox" id="color-input"></input>     
                            <div id="color-picker">
                                <canvas id="color-block" height="150" width="150"></canvas>
                                <canvas id="color-strip" height="150" width="30"></canvas>
                            </div>
                        </div>
                        <p style="text-align: center;padding: 0px;">(click marker to change color)</p>    
                        
                        
                    </span>
                    
                </div>
                <!-- <div style="padding-top: 0px;"> -->
                    
                <!-- </div> -->
            </span>
        </span>

        <span class="with_border" style="width: 420px;padding-top: 5px;vertical-align: middle;">

            <div style="padding:10px;display: inline-block;">
                <span>
                    <input style="vertical-align: middle;" type="button" class="button" value="Classify" id="classify-button">
                </span>
                <span style="padding-left: 10px;padding-right: 10px;vertical-align: middle;">
                    <input type="button" class="button" value="Clear" id="clear-button">
                </span>
                <canvas style="vertical-align: middle;" id="canvas_answer" class="with_border" width="140" height="140"></canvas>
            </div>

            <div style="padding: 0px 20px;">
                <p id="prediction" class="with_border rounded highlighted" style="width: 350px;">
                    Prediction will appear here.
                </p>
            </div>

            <h3 style="text-align: center;"> 
                Click on the image below to copy that traffic sign to the canvas, then click "Classify". <br>
                You can also draw on the picture.
            </h3>
        </span>
    </div>

    <p></p>

    <div style="padding:10px;">
        <img id="img-43-classes" src="images/GTSRB-43-classes.jpg"  class="with_border" width="867" height="495">
    	<img hidden id="img-43-answers" src="images/43-answers.png">
    </div>

    <p></p>

    <div style="padding-left:10px;padding-bottom: 10px;">
        <div class="with_border rounded" style="width: 80%;max-width: 650px;">
            <h3>You can also upload any image and then copy it to the canvas:</h3>
            
            <p></p>
            
            <div>         
                <input type='file' class="button"/>
                <img class="image" id="myImg" src="#"  width="80" height="80">
                <input type="button" class="button" value="Copy Image" id="copy_image">
            </div>
        </div>
    </div> 
    
    <hr>
    
    <p style="text-align: center;color: gray;">
        Made by Martin Szyld in 2023. I built this page as a first tensorflow.js project. 
        For a bit of context and to see how this is working: 
        <a href="https://github.com/mszyld/Traffic-Sign-Classifier-in-Browser" target="_blank" style="vertical-align: auto;color: gray;">
            see at GitHub <img src="images/github.png"  width="25px" height="25px">
        </a>   
    </p>

</div>
    
    <script src="script-traffic.js" type="module"></script>
</body>
</html>
    
